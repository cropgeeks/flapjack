<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>
<head>
<meta http-equiv="Content-Language" content="en-gb">
<meta http-equiv="content-type" content="text/html; charset=utf-8">

<link rel="stylesheet" href="stylesheet/styles.css" type="text/css">

<title>Projects and Data Formats</title>

</head>
<body>

<!--#include virtual="header.html" -->


<h2>Projects and Data Formats</h2>

<p>Everything you do with Flapjack is stored within a project file; imported
data, sort orders, trait information, colour schemes, etc. A Flapjack project is
active at all times when using the application - even at startup, when a default
new project is already created and waiting for data to be imported into it.</p>

<p>The structure of a project file is as follows:</p>

<p>At the top level is the <b>project</b> itself. A <b>project</b> can store zero or more
<b>data sets.</b></p>

<h3>Data sets</h3>

<p>A <b>data set</b> contains an amalgamation of an imported <b>map file</b> and
<b>genotype file</b>.

<p>The <b>map file</b> should contain information on the markers, the chromosome
they are on, and their position within that chromosome. The markers do not need
to be in any particular order as Flapjack will group and sort them by
chromosome and distance once they are loaded. A short example is shown
below:</p>

<pre>
  # fjFile = MAP
  Marker1      1H     32
  Marker2      1H     45
  Marker3      2H     23
</pre>

<p>The <b>genotype file</b> should contain a list of variety lines, with allele
data per marker for that line. It also requires a header line specifying the
marker information for each column.</p>

<pre>
  # fjFile = GENOTYPE
               Marker1   Marker2   Marker3
  Line1        A         G         G
  Line2        A         -         G/T
  Line3        T         A         C
</pre>

<p>Both the map file and the genotype file must be in plain-text, tab-delimited
format.</p>

<h3>Views</h3>

<p>Flapjack stores the lines and markers internally in a structure and form that
can never be modified. A default <b>view</b> upon this data is created whenever
an import is successful, and any subsequent operations upon the lines or markers
will happen to the <b>view</b>, not to the <b>data set</b>.</p>

<p>Each <b>view</b> (and you can <a href="gui.dialog.NewViewDialog.shtml">create
</a> as many as you like) will hold the set of <b>chromosomes</b> for that
<b>data set</b>. Each <b>chromosome</b> is displayed independently, but the lines
are obviously common to all chromosomes and any modification to the order or
display of lines on one chromosome will be reflected across all the others too.</p>

<p>Colour scheme information is generally specific to a <b>view</b> although
some settings will be chromosome-specific, such as colouring by marker.</p>

<h3>Traits</h3>

<p>A <b>data set</b> can optionally also store information on one or more
<b>traits</b> that are associated with the lines. Trait information is imported
from a file with the following tab-delimited format:

<pre>
  # fjFile = PHENOTYPE
               Trait1       Trait1       Trait2
               Experiment1  Experiment2  Experiment1
  Line1        50           High         Short
  Line2        2.3          High         Medium
  Line3        99.3         Low          Long
</pre>

<p>Trait data for a single trait can be either numerical or categorical. The line containing experiment information for each trait is <b>optional</b>.</p>


<h3>QTLs</h3>

<p>A <b>data set</b> can also optionally store information on one or more
<b>QTLs</b> that are associated with the map. QTL information is imported
from a file with the following tab-delimited format:

<pre>
  # fjFile = QTL
  Name  Chromosome  Position  Pos-Min  Pos-Max  Trait   Experiment  [optional_1] .. [optional_n]
  QTL1  1H          10        8        12       Height  Exp1        25.5            high
  QTL2  1H          20        19       26       Height  Exp1        34.8            low
  QTL3  2H          10        8        13.5     Temp    Exp1        99.2            low
</pre>

<p>The "Name" to "Experiment" columns are required and must be included and
listed in the order shown. After that, each QTL may have zero or more optional
columns of numerical or textual data that can be included too.</p>


<h3>Graphs</h3>

<p>A <b>data set</b> can also optionally store information on one or more
<b>Graphs</b> that are associated with the map. Graph information is imported
from a file with the following tab-delimited format:

<pre>
  # fjFile = GRAPH
  SIGNIFICANCE_THRESHOLD   Graph1   5.1
  SIGNIFICANCE_THRESHOLD   Graph2   7.5
  Marker1                  Graph1   1.3
  Marker1                  Graph2   4.3
  ...
  Marker2                  Graph1   1.8
  Marker2                  Graph2   3.9
</pre>

<p>Any number of graphs can be stored in a single file with data points per marker.
The SIGNIFICANCE_THRESHOLD entry is optional (per graph) but defines the significance
threshold for that graph if included which will be drawn on Flapjack's display.</p>

<!--#include virtual="footer.html" -->

</body>
</html>